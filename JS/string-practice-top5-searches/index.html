<!DOCTYPE html>
<html lang="en-US">
    <head>
        <meta charset="utf-8"/>
        <title>Strings: Task 1</title>
        <style>
        p {
            color: purple;
            margin: 0.5em 0;
        }

        /* "*" means select all elements on the page, no matter what they are. */
        * {
            box-sizing: border-box;
        }
        </style>
        <link rel="stylesheet" href="../styleses/styles.css" />
    </head>

    <body>
        <section class="preview">
            <input type="text"><button>Search</button>
            <ul>
            </ul>

        </section>

        <script>
            const list = document.querySelector('.preview ul');
            const searchInput = document.querySelector('.preview input');
            const searchBtn = document.querySelector('.preview button');
            
            list.textContent = "";
            
            const myHistory = [];
            const MAX_HISTORY = 5;
            
            searchBtn.onclick = () => {
                // we will only allow a term to be entered if the search input isn't empty
                if (searchInput.value !== '') {
                    // number 1
                    myHistory.unshift(searchInput.value); // Add new element at the begin of the array
                    // empty the list so that we don't display duplicate entries
                    // the display is regenerated every time a search term is entered.
                    list.textContent = "";

                // loop through the array, and display all the search terms in the list
                for (const itemText of myHistory) {
                    const listItem = document.createElement('li');
                    listItem.textContent = itemText;
                    list.appendChild(listItem);
                }
                
                // If the array length is 5 or more, remove the oldest search term
                if (myHistory.length >= MAX_HISTORY) {
                    // number 2
                    myHistory.pop();
                }
                
                // empty the search input and focus it, ready for the next term to be entered
                searchInput.value = '';
                searchInput.focus();
                }
            }
        </script>
    </body>
</html>

<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8"/>
    <title>Strings: Task 1</title>
    <style>
      p {
        color: purple;
        margin: 0.5em 0;
      }

      /* "*" means select all elements on the page, no matter what they are. */
      * {
        box-sizing: border-box;
      }
    </style>
    <link rel="stylesheet" href="../styleses/styles.css" />
  </head>

  <body>
    <section class="output">
        <ul>

        </ul>
        <p>

        </p>
    </section>
  </body>
    <script>
        const list = document.querySelector('.output ul');
        const totalBox = document.querySelector('.output p');
        
        let total = 0;
        list.textContent = "";
        totalBox.textContent = "";

        // number 1: define and initial an array
        const products = "Underpants:6.99, Socks:5.99, T-shirt:14.99, Trousers:31.99, Shoes:23.99";
        const productsArr = products.split(","); // Split each substring and store them in an array

        // number 2 : traverse the array
        for (const p of productsArr){
            // number 3 : split name and price per product
            const product = p.split(":");
            // console.log(`${product[0]}, ${product[1]}`); // For debugging
            // number 4 : convert price from string to number
            const price = Number(product[1]);
            // number 5 : sum all the price of products
            total += price; 
            
            // number 6
            let itemText = `${product[0]} -- \$${price}`;
            
            const listItem = document.createElement('li');
            listItem.textContent = itemText;
            list.appendChild(listItem);
        }
        
        totalBox.textContent = 'Total: $' + total.toFixed(2);
 </script>
</html>